
# === Software setup settings ===
# Specify git commits for SaaRclust
# and StrandPhaseR setup
git_commit_saarclust: d91bb05
git_commit_strandphaser: e608407
git_commit_breakpointr: 268d99d
# arbitrarily tying a version number
# to the git commits to avoid additional
# wildcards - increment this number when
# git commits are changed!
git_commit_version: 14

# automatic scraping of "temp" data sources (e.g., FTP)
# is now deprecated and deactivated by default. New behavior
# assumes that data are always available locally with path
# and type defined as part of the sample config (per readset)
# Set the below parameter to true to work with data sources
# defined in separate config files or for downloading data
# from repositories (currently only implemented for a few
# ENA bioprojects needed for HGSVC2 data)
use_legacy_data_scraping: false

peregrine_version: 0.1.6.1
deepvariant_version: 1.2.0
shasta_version: 0.5.0

# Long read preprocessing
check_hifi_adapter_contamination: true

# for Strand-seq library QC: fail if there are less than
# N (>1) usable [acceptable quality] Strand-seq libraries for assembly
sseq_qc_fail_threshold: 50
sseq_qc_ignore_fail: false

# Assembler settings
shasta_target_coverage: 60  # tech-independent recommendation: cov between 40x and 80x
flye_target_coverage: 50  # dev recommendation: ~30x, but we have enough RAM to go a bit higher

# SaaRclust parameter sets
# goal is to obtain approx.
# 24 clusters (for human)
min_contig_size: 100000
min_region_to_order: 500000
bin_size: 200000
step_size: 200000
prob_threshold: 0.25
init_clusters: 100
desired_clusters_male: 25
desired_clusters_female: 24
min_mapq: 10
# - changed from 250 to 300, see e-mail
# by David P. from July 8, 2021
# - change back to 260 to check for
# problems in clustering step;
# usually, this only affects male samples
# because of the quasi-haploid sex
# chromosomes
max_cluster_length_mbp: 260
ignore_cluster_size_error: false

# VARIANT CALLING
# Postprocessing parameters
filter_vcf_qual: 10
filter_vcf_gq: 100

freebayes_timeout_sec: 3600

# not primary alignment || supplementary alignment
bwa_strandseq_aln_discard: 2304

# read unmapped || not primary alignment || failed QC || PCR dup
minimap_readref_aln_discard: 1796

# for minimap contig-to-reference alignments
# read unmapped || not primary alignment
contigref_aln_discard: 260

# read unmapped || not primary alignment || failed QC || PCR dup
minimap_racon_aln_discard: 1796  # same as 0x704
minimap_racon_aln_min_qual: 10

# Minimal breadth of coverage (in percent) for contig/cluster
# to reference chromosome alignments. Pipeline aborts if threshold
# is not met, could indicate a large missing piece (misassembly)
# Note that acrocentric chromosomes are not treated in any particular
# way, so setting this too high will always result in failure.
min_chromosome_coverage:
  hg38_HGSVC2_noalt: 60
  T2Tv11_38p13Y_chm13: 80

# main chromosomes to be used
# for known references for main
# pipeline steps (i.e., everything
# before evaluation)
eval_known_ref: GRCh38_HGSVC2_noalt
eval_align_ref:
  - hg38_HGSVC2_noalt
  - T2Tv11_hg002Yv2_chm13
eval_gene_model: GRCh38_GENCODEv31_basic
use_genome_size: T2Tv11_hg002Yv2_chm13
sseq_qc_reference: hg38_HGSVC2_noalt
main_chromosomes:
  - chr1
  - chr2
  - chr3
  - chr4
  - chr5
  - chr6
  - chr7
  - chr8
  - chr9
  - chr10
  - chr11
  - chr12
  - chr13
  - chr14
  - chr15
  - chr16
  - chr17
  - chr18
  - chr19
  - chr20
  - chr21
  - chr22
  - chrX
  - chrY
